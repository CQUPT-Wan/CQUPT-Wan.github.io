<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>CQUPT-Wan</title>
  
  <subtitle>I love u 3000 times</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://cqupt-wan.github.io/"/>
  <updated>2019-05-21T11:40:24.344Z</updated>
  <id>https://cqupt-wan.github.io/</id>
  
  <author>
    <name>CQUPT-Wan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Hexo搭建git博客</title>
    <link href="https://cqupt-wan.github.io/20190520-hexo-blog-optimization.html"/>
    <id>https://cqupt-wan.github.io/20190520-hexo-blog-optimization.html</id>
    <published>2019-05-20T01:41:08.000Z</published>
    <updated>2019-05-21T11:40:24.344Z</updated>
    
    <content type="html"><![CDATA[<p>本文主要内容是本站博客使用Next主题的个性化定制和部分优化细节。</p><h1 id="开始-Hexo-github搭建个人博客"><a href="#开始-Hexo-github搭建个人博客" class="headerlink" title="开始 Hexo+github搭建个人博客"></a>开始 Hexo+github搭建个人博客</h1><ul><li>Hexo博客搭建的基础流程为：<br>安装Node.js→安装Git→安装主题→注册给github并创建pages仓库→部署</li></ul><p>首先可以将Hexo<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">官方文档</a>看一遍，然后可以参考这篇文章<a href="https://www.cnblogs.com/fengxiongZz/p/7707219.html" target="_blank" rel="noopener">使用Hexo+Github一步步搭建属于自己的博客（基础）</a>进行配置。如果想将博客同步到coding上可以查看这篇文章：<a href="https://yangbingdong.com/2017/build-blog-hexo-base/#GitHub" target="_blank" rel="noopener">基于Hexo+Github+Coding搭建个人博客——基础篇(从菜鸟到放弃)</a>。之后在站点文件夹根目录，安装Git部署插件（以后所有安装的插件都在这个目录），输入下面命令：</p><pre><code class="powershell">所在目录：~/Blog/npm install hexo-deployer-git --save</code></pre><p>然后在站点根目录下配置文件，编辑：</p><pre><code class="powershell">文件位置：~/Blog/_config.ymlurl: https://cqupt-wan.github.io/..省略....# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy:  type: git  repository: git@github.com:CQUPT-Wan/CQUPT-Wan.github.io.git  branch: master  # other deployer  -type: leancloud_counter_security_sync</code></pre><p>将其中的cqupt-wan更改为你的git账号即可，可以执行<code>hexo s</code>在 <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a> 本地调试成功后，执行 <code>hexo clean && hexo g && hexo d</code> 上传到git博客上。</p><h2 id="站点根目录内容"><a href="#站点根目录内容" class="headerlink" title="站点根目录内容"></a>站点根目录内容</h2><p>建立好的站点根目录如下：</p><pre><code class="yaml">.├── _config.yml├── package.json├── scaffolds├── source|   ├── _drafts|   └── _posts└── themes</code></pre><p>每个文件或文件夹的功能如下：</p><ol><li><strong>_config.yml</strong></li></ol><p>站点博客的配置文件，博客的名称、关键词、作者、语言、博客主题…设置都在里面。</p><ol start="2"><li><strong>package.json</strong></li></ol><p>应用程序信息，新添加的插件内容也会出现在这里面，我们可以不修改这里的内容。</p><ol start="3"><li><strong>scaffolds</strong></li></ol><p>scaffolds就是脚手架的意思，这里放了三个模板文件，分别是新添加博客文章（posts）、新添加博客页（page）和新添加草稿（draft）的目标样式。这部分可以修改的内容是，我们可以在模板上添加比如categories等自定义内容</p><ol start="4"><li><strong>source</strong></li></ol><p>source是放置我们博客内容的地方，里面初始只有两个文件夹，一个是drafts（草稿），一个posts（文章），但之后我们通过命令新建tags（标签）还有categories（分类）页后，这里会相应地增加文件夹。</p><ol start="5"><li><strong>themes</strong></li></ol><p>放置主题文件包的地方。Hexo会根据这个文件来生成静态页面。初始状态下只有landscape一个文件夹，后续我们可以添加自己喜欢的。</p><h1 id="优化-基本功能配置"><a href="#优化-基本功能配置" class="headerlink" title="优化 基本功能配置"></a>优化 基本功能配置</h1><h2 id="更换博客主题"><a href="#更换博客主题" class="headerlink" title="更换博客主题"></a>更换博客主题</h2><p>两个Hexo主题下载的地方：</p><p>知乎话题：<a href="https://www.zhihu.com/question/24422335" target="_blank" rel="noopener">有哪些好看的 Hexo 主题？</a></p><p>Hexo官方：<a href="https://hexo.io/themes/" target="_blank" rel="noopener">Themes</a></p><p>然后使用clone的方式将主题下载，本站博客选用的是Hexo的next主题</p><pre><code class="powershell">所在目录：~/Blog/git clone https://github.com/theme-next/hexo-theme-next themes/next</code></pre><p>clone完成后，修改配置文件中的theme选项</p><pre><code class="powershell">文件位置：~/Blog/_config.yml## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: next</code></pre><p>此外，可以在主题配置文件中修改next主题的不同风格，本站使用的是Gemini风格</p><pre><code class="powershell">文件位置：~/Blog/themes/next/_config.yml# ---------------------------------------------------------------# Scheme Settings# ---------------------------------------------------------------# Schemes#cheme: Muse#scheme: Mist#scheme: Piscesscheme: Gemini</code></pre><h2 id="设置Menu"><a href="#设置Menu" class="headerlink" title="设置Menu"></a>设置Menu</h2><p>默认只有首页和归档两个，如果还需要添加其他，需要修改主题配置文件：</p><pre><code class="powershell">文件位置：~/Blog/themes/next/_config.ymlmenu:  home: / || home  //首页  about: /about/ || user  //关于  tags: /tags/ || tags  //标签  categories: /categories/ || th  //分类  archives: /archives/ || archive  //归档  #schedule: /schedule/ || calendar  //日程表  #sitemap: /sitemap.xml || sitemap  //站点地图  #commonweal: /404/ || heartbeat  //公益404</code></pre><p>修改完配置文件后，还需要创建对应的文件夹，以tags标签为例</p><pre><code class="powershell">所在目录：~/Blog/hexo new page "tags"</code></pre><p>此外，还需要修改对应文件夹中的index.md文件，comment对应后面的评论系统</p><pre><code class="powershell">文件位置：~/Blog/source/tags/index.md---title: 所有标签date: 2019-05-16 15:12:51type: "tags"comments: false---</code></pre><h2 id="添加动态背景"><a href="#添加动态背景" class="headerlink" title="添加动态背景"></a>添加动态背景</h2><p>修改主题配置文件，将enable改为true即可</p><pre><code class="powershell">文件位置：~/Blog/themes/next/_config.yml# Canvas-nest# Dependencies: https://github.com/theme-next/theme-next-canvas-nestcanvas_nest:  enable: true  onmobile: true # display on mobile or not  color: "0,0,255" # RGB values, use ',' to separate  opacity: 0.5 # the opacity of line: 0~1  zIndex: -1 # z-index property of the background  count: 99 # the number of lines</code></pre><p>配置项说明：</p><ul><li><code>color</code> ：线条颜色, 默认: <code>'0,0,255'</code>；三个数字分别为(R,G,B)</li><li><code>opacity</code>： 线条透明度（0~1）, 默认: <code>0.5</code></li><li><code>count</code>：线条的总数量, 默认: <code>99</code></li><li><code>zIndex</code> ：背景的z-index属性，css属性用于控制所在层的位置, 默认: <code>-1</code></li></ul><h2 id="添加RSS"><a href="#添加RSS" class="headerlink" title="添加RSS"></a>添加RSS</h2><p>首先安装Hexo插件</p><pre><code class="powershell">所在目录：~/Blog/ npm install --save hexo-generator-feed</code></pre><p>编辑站点配置文件</p><pre><code class="powershell">文件位置：~/Blog/_config.yml## Plugins: https://hexo.io/plugins/plugins: hexo-generate-feed</code></pre><p>配置主题文件</p><pre><code class="powershell">文件位置：~/Blog/themes/next/_config.yml# Set rss to false to disable feed link.# Leave rss as blank to use site's feed link, and install hexo-generator-feed: `npm install hexo-generator-feed --save`.# Set rss to specific value if you have burned your feed already.rss: /atom.xml</code></pre><h2 id="修改链接样式"><a href="#修改链接样式" class="headerlink" title="修改链接样式"></a>修改链接样式</h2><pre><code class="powershell">文件位置：~Blog/themes/next/source/css/_common/components/post/post.styl// 文章内链接文本样式.post-body p a {  color: #0593d3;  //原始链接颜色  border-bottom: none;  border-bottom: 1px solid #0593d3;  //底部分割线颜色  &:hover {    color: #fc6423;  //鼠标经过颜色    border-bottom: none;    border-bottom: 1px solid #fc6423;  //底部分割线颜色  }}</code></pre><h2 id="修改底部标签样式"><a href="#修改底部标签样式" class="headerlink" title="修改底部标签样式"></a>修改底部标签样式</h2><p>原本的标签是‘#’，感觉很丑，所有将<code>rel="tag">#</code>标签更改为<code>rel="tag">&lt;i class="fa fa-tag"&gt;</code>现在这个样子</p><pre><code class="powershell">文件位置：~/Blog/themes/next/layout/_macro/post.swig<xmp><div class="post-tags">          {% for tag in post.tags %}            <a href="{{ url_for(tag.path) }}" rel="tag"><i class="fa fa-tag"></i> {{ tag.name }}</a>          {% endfor %}        </div>        <i class="fa fa-tag"></xmp></code></pre><h2 id="在文章末尾添加“文章结束”标志"><a href="#在文章末尾添加“文章结束”标志" class="headerlink" title="在文章末尾添加“文章结束”标志"></a>在文章末尾添加“文章结束”标志</h2><p>首先新建<code>passage-end-tag.swig</code>文件</p><pre><code class="powershell">所在目录：~/Blog/themes/next/layout/_macro//创建passage-end-tag.swig文件touch passage-end-tag.swig</code></pre><p>编辑该文件</p><pre><code class="powershell">文件位置：~/Blog/themes/next/layout/_macro/passage-end-tag.swig<xmp><div>    {% if not is_index %}        <div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束啦<i class="fa fa-thumbs-up" aria-hidden="true"></i>感谢您的阅读-------------</div>    {% endif %}</div>;</xmp></code></pre><p>然后修改<code>post.swig</code>配置文件，在<code>END POST BODY</code>之后添加</p><pre><code class="powershell">文件位置：~/Blog/themes/next/layout/_macro\post.swig<xmp>{% if not is_index %}    <div>    {% include '../_macro/passage-end-tag.swig' %}    </div>    {% endif %}</xmp></code></pre><p>最后修改主题配置文件即可</p><pre><code class="powershell">文件位置：~/Blog/themes/next/_config.yml# 文章末尾添加“本文结束”标记passage_end_tag:  enabled: true</code></pre><h1 id="进阶-高级功能配置"><a href="#进阶-高级功能配置" class="headerlink" title="进阶 高级功能配置"></a>进阶 高级功能配置</h1><h2 id="添加热度"><a href="#添加热度" class="headerlink" title="添加热度"></a>添加热度</h2><p>进入<a href="https://links.jianshu.com/go?to=https%3A%2F%2Fleancloud.cn%2F" target="_blank" rel="noopener">LeanCloud官网</a>，进行账号注册。登录后，进入控制台，创建应用，应用名为<code>Hexo</code>如下图所示：</p><p><img src="https://wx1.sinaimg.cn/large/005JV1Cwly1g3967rs6kwj30rs0fb0vo.jpg" alt="image"></p><p>创建应用后，点击存储，创建<strong>Class</strong>，<strong>Class</strong>命名为<strong>Counter</strong>，操作如下图所示：</p><p><img src="https://ws4.sinaimg.cn/large/005JV1Cwly1g3964gch27j30ie07y0u3.jpg" alt="image"></p><p><img src="https://wx2.sinaimg.cn/large/005JV1Cwly1g3968wb8w3j30rs0klwku.jpg" alt="image"></p><p>查看<strong>AppID</strong>和<strong>AppKey</strong>，如下图所示：</p><p><img src="https://wx2.sinaimg.cn/large/005JV1Cwly1g39699n2baj30n407sq2u.jpg" alt="image"></p><p>加入热度符号：</p><pre><code class="powershell">文件位置：~/Blog/themes/next/layout/_macro\post.swig<xmp>          {% if theme.leancloud_visitors.enable or (theme.valine.enable and theme.valine.appid and theme.valine.appkey and theme.valine.visitor) %}            <span id="{{ url_for(post.path) }}" class="leancloud_visitors" data-flag-title="{{ post.title }}">              <span class="post-meta-divider">|</span>              <span class="post-meta-item-icon">                <i class="fa fa-eye"></i>              </span>              {% if theme.post_meta.item_text %}                <span class="post-meta-item-text">{{ __('post.views') + __('symbol.colon') }}</span>              {% endif %}                <span class="leancloud-visitors-count"></span>                  <table><tr><td bgcolor=orange>red<span>&#x2103;</span></td></tr></table>            </span>          {% endif %}</xmp></span></code></pre><!-- rebuild by neat --><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;本文主要内容是本站博客使用Next主题的个性化定制和部分优化细节。&lt;/p&gt;&lt;h1 id=&quot;开始-Hexo-github搭建个人博客&quot;&gt;&lt;a href=&quot;#开始-Hexo-github搭建个人博客&quot; class=&quot;headerlink&quot; title=&quot;开始
        
      
    
    </summary>
    
      <category term="hexo" scheme="https://cqupt-wan.github.io/categories/hexo/"/>
    
    
      <category term="Hexo" scheme="https://cqupt-wan.github.io/tags/Hexo/"/>
    
      <category term="git" scheme="https://cqupt-wan.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://cqupt-wan.github.io/20190516-index.html"/>
    <id>https://cqupt-wan.github.io/20190516-index.html</id>
    <published>2019-05-16T07:28:03.000Z</published>
    <updated>2019-05-17T12:16:55.789Z</updated>
    
    <content type="html"><![CDATA[<script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;script&gt;
        document.querySelectorAll(&#39;.github-emoji&#39;)
          .forEach(el =&gt; {
            if (!el.dataset.src) { return; }
       
        
      
    
    </summary>
    
      <category term="吾日三省吾身" scheme="https://cqupt-wan.github.io/categories/Thinking/"/>
    
    
      <category term="Hexo" scheme="https://cqupt-wan.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://cqupt-wan.github.io/20190515-index.html"/>
    <id>https://cqupt-wan.github.io/20190515-index.html</id>
    <published>2019-05-15T08:09:48.908Z</published>
    <updated>2019-05-15T08:09:48.908Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="bash">$ hexo new "My New Post"</code></pre><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="bash">$ hexo server</code></pre><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="bash">$ hexo generate</code></pre><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="bash">$ hexo deploy</code></pre><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p><!-- rebuild by neat --><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
    
    <summary type="html">
    
      
      
        
        
          &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a
        
      
    
    </summary>
    
    
  </entry>
  
</feed>
